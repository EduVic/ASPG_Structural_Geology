default_stages: [commit, push]
repos:
  - repo: https://github.com/psf/black
    rev: 22.3.0
    hooks:
    - id: black
      exclude: ^(venv/|docs/)
      types: ['python']
  - repo: https://github.com/PyCQA/flake8
    rev: 4.0.1
    hooks:
    - id: flake8
      args:
        - --max-line-length=88
        - --ignore=F401,E501,W503,E731
      exclude: ^(venv/|docs/)
      types: ['python']
  - repo: local
    hooks:
    - id: pytest
      name: pytest
      stages: [commit]
      language: system
      entry: pytest-3 -s -v .
      types: [python]
      pass_filenames: false
      always_run: true
